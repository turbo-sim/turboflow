<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>turboflow.utilities.optimization_utils module &mdash; turboflow v0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=87e54e7c" />
      <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=abecb913" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=90b5f367"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script src="../../_static/design-tabs.js?v=f930bc37"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="turboflow.config_validation module" href="turboflow.config_validation.html" />
    <link rel="prev" title="turboflow.utilities.numerics module" href="turboflow.utilities.numerics.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            turboflow
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_description.html">Model Description</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_validation.html">Model validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nomenclature.html">Nomenclature</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bibliography.html">Bibliography</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api_reference.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../api_reference.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="turboflow.axial_turbine.html">turboflow.axial_turbine package</a></li>
<li class="toctree-l3"><a class="reference internal" href="turboflow.properties.html">turboflow.properties package</a></li>
<li class="toctree-l3"><a class="reference internal" href="turboflow.pysolver_view.html">turboflow.pysolver_view package</a></li>
<li class="toctree-l3"><a class="reference internal" href="turboflow.turbo_configurations.html">turboflow.turbo_configurations package</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="turboflow.utilities.html">turboflow.utilities package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="turboflow.utilities.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="turboflow.utilities.html#module-turboflow.utilities">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api_reference.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">turboflow</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../api_reference.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="turboflow.utilities.html">turboflow.utilities package</a></li>
      <li class="breadcrumb-item active">turboflow.utilities.optimization_utils module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/source/api/turboflow.utilities.optimization_utils.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-turboflow.utilities.optimization_utils">
<span id="turboflow-utilities-optimization-utils-module"></span><h1>turboflow.utilities.optimization_utils module<a class="headerlink" href="#module-turboflow.utilities.optimization_utils" title="Link to this heading"></a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="turboflow.utilities.optimization_utils.evaluate_constraints">
<span class="sig-prename descclassname"><span class="pre">turboflow.utilities.optimization_utils.</span></span><span class="sig-name descname"><span class="pre">evaluate_constraints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">constraints</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/turboflow/utilities/optimization_utils.html#evaluate_constraints"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#turboflow.utilities.optimization_utils.evaluate_constraints" title="Link to this definition"></a></dt>
<dd><p>Evaluates the constraints based on the provided data and constraint definitions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">dict</span></dt><dd><p>A dictionary containing performance data against which the constraints will be evaluated.</p>
</dd>
<dt><strong>constraints</strong><span class="classifier">list of dicts</span></dt><dd><p>A list of constraint definitions, where each constraint is defined as a dictionary.
Each dictionary must have ‘variable’ (str), ‘type’ (str, one of ‘=’, ‘&gt;’, ‘&lt;’), and ‘value’ (numeric).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>tuple of numpy.ndarray</dt><dd><p>Returns two numpy arrays: the first is an array of equality constraints, and the second is an array of
inequality constraints. These arrays are flattened and concatenated from the evaluated constraint values.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>ValueError</dt><dd><p>If an unknown constraint type is specified in the constraints list.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="turboflow.utilities.optimization_utils.evaluate_objective_function">
<span class="sig-prename descclassname"><span class="pre">turboflow.utilities.optimization_utils.</span></span><span class="sig-name descname"><span class="pre">evaluate_objective_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objective_function</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/turboflow/utilities/optimization_utils.html#evaluate_objective_function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#turboflow.utilities.optimization_utils.evaluate_objective_function" title="Link to this definition"></a></dt>
<dd><p>Evaluates the objective function based on the provided data and configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">dict</span></dt><dd><p>A dictionary containing performance data against which the objective function will be evaluated.</p>
</dd>
<dt><strong>objective_function</strong><span class="classifier">dict</span></dt><dd><p>A dictionary defining the objective function. It must have ‘variable’ (str)
and ‘type’ (str, either ‘minimize’ or ‘maximize’).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>float</dt><dd><p>The value of the objective function, adjusted for optimization. Positive for minimization and
negative for maximization.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>ValueError</dt><dd><p>If an unknown objective function type is specified in the configuration.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="turboflow.utilities.optimization_utils.render_and_evaluate">
<span class="sig-prename descclassname"><span class="pre">turboflow.utilities.optimization_utils.</span></span><span class="sig-name descname"><span class="pre">render_and_evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/turboflow/utilities/optimization_utils.html#render_and_evaluate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#turboflow.utilities.optimization_utils.render_and_evaluate" title="Link to this definition"></a></dt>
<dd><p>Render variables prefixed with ‘$’ in an expression and evaluate the resulting expression.</p>
<p>This function processes an input string <cite>expr</cite>, identifying all occurrences of variables
indicated by a leading ‘$’ symbol. Each such variable is resolved to its value from the
provided <cite>context</cite> dictionary. The expression with all variables resolved is then evaluated
and the result is returned.</p>
<p>This function is useful to render strings defined in a YAML configuration file to values
that are calculated within the code and stored in a dicitonary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>expr</strong><span class="classifier">str</span></dt><dd><p>The expression string containing variables to be rendered. Variables in the
expression are expected to be prefixed with a ‘$’ symbol.</p>
</dd>
<dt><strong>data</strong><span class="classifier">dict</span></dt><dd><p>A dictionary containing variables and their corresponding values. These variables
are used to render values in the expression.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>The result of evaluating the rendered expression. The type of the result depends on the</dt><dd></dd>
<dt>expression.</dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p><cite>pattern</cite>: A regular expression pattern used to identify variables within the expression.
Variables are expected to be in the format <cite>$variableName</cite>, potentially with dot-separated
sub-properties (e.g., <cite>$variable.property</cite>).</p></li>
<li><p><cite>replace_with_value</cite>: An inner function that takes a regex match object and returns
the value of the variable from <cite>context</cite>. <cite>match.group(1)</cite> returns the first captured
group from the matched text, which in this case is the variable name excluding the
leading ‘$’ symbol. For example, in <cite>$variableName</cite>, <cite>match.group(1)</cite> would return
<cite>variableName</cite>.</p></li>
<li><p>The function uses Python’s <cite>eval</cite> for evaluation, which should be used cautiously as
it can execute arbitrary code. Ensure that the context and expressions are from a trusted
source.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="turboflow.utilities.optimization_utils.render_nested_value">
<span class="sig-prename descclassname"><span class="pre">turboflow.utilities.optimization_utils.</span></span><span class="sig-name descname"><span class="pre">render_nested_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nested_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/turboflow/utilities/optimization_utils.html#render_nested_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#turboflow.utilities.optimization_utils.render_nested_value" title="Link to this definition"></a></dt>
<dd><p>Retrieves a value from a nested structure (dictionaries or objects with attributes) using a dot-separated key.</p>
<p>This function is designed to navigate through a combination of dictionaries and objects. For an object to be
compatible with this function, it must implement a <cite>keys()</cite> method that returns its attribute names.</p>
<p>This function is intended as a subroutine of the more genera <code class="docutils literal notranslate"><span class="pre">render_expression</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>nested_key</strong><span class="classifier">str</span></dt><dd><p>A dot-separated key string that specifies the path in the structure.
For example, ‘level1.level2.key’ will retrieve data[‘level1’][‘level2’][‘key’] if data is a dictionary,
or data.level1.level2.key if data is an object or a combination of dictionaries and objects.</p>
</dd>
<dt><strong>data</strong><span class="classifier">dict or object</span></dt><dd><p>The starting dictionary or object from which to retrieve the value. This can be a nested structure
of dictionaries and objects.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>value</dt><dd><p>The value retrieved from the nested structure using the specified key.
The type of the value depends on what is stored at the specified key in the structure.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>KeyError</dt><dd><p>If the specified nested key is not found in the data structure. The error message includes the part
of the path that was successfully traversed and the available keys or attributes at the last valid level.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="turboflow.utilities.numerics.html" class="btn btn-neutral float-left" title="turboflow.utilities.numerics module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="turboflow.config_validation.html" class="btn btn-neutral float-right" title="turboflow.config_validation module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Lasse Borg Anderson and Roberto Agromayor.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>